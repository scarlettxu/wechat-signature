<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<body>

你现在可以分享到朋友圈了
<h3 id="menu-share">分享接口</h3>
<span class="desc">获取“分享到朋友圈”按钮点击状态及自定义分享内容接口</span>
<button class="btn btn_primary" id="onMenuShareTimeline">onMenuShareTimeline</button>
<span class="desc">获取“分享给朋友”按钮点击状态及自定义分享内容接口</span>
<button class="btn btn_primary" id="onMenuShareAppMessage">onMenuShareAppMessage</button>
<span class="desc">获取“分享到QQ”按钮点击状态及自定义分享内容接口</span>
<button class="btn btn_primary" id="onMenuShareQQ">onMenuShareQQ</button>
<span class="desc">获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口</span>
<button class="btn btn_primary" id="onMenuShareWeibo">onMenuShareWeibo</button>

</body>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>
  var sign;
  function jsonpCallback(data) {
    sign = data.sign;
  }
</script>
<script type="text/javascript" src="http://721f0016.ngrok.io/api/sign?appId=wxd841b3a3fdd8f923&url=http://721f0016.ngrok.io/&callback=jsonpCallback"></script>
<script type="text/javascript">
  wx.config({
    debug: true,
    appId: 'wxd841b3a3fdd8f923',
    timestamp: sign.timestamp,
    nonceStr: sign.nonceStr,
    signature: sign.signature,
    jsApiList: [
      // 所有要调用的 API 都要加到这个列表中
      'onMenuShareTimeline',
      'onMenuShareAppMessage',
      'onMenuShareQQ'
    ]
  });


  wx.ready(function () {
    console.log('I am ready');
    // 在这里调用 API
    wx.onMenuShareTimeline({
      title: '什么鬼', // 分享标题
      link: 'http://721f0016.ngrok.io', // 分享链接
      imgUrl: 'http://d.lanrentuku.com/down/png/1412/christmas-2014-rocket/rudolph-120px.png', // 分享图标
      success: function () {
        // 用户确认分享后执行的回调函数
//        window.location.href = 'http://wan.bigertech.com';
      },
      cancel: function () {
        // 用户取消分享后执行的回调函数
//        window.location.href = 'http://www.bigertech.com';
      }
    });

    wx.onMenuShareAppMessage({
      title: '发给朋友的', // 分享标题
      desc: '2333', // 分享描述
      link: 'http://721f0016.ngrok.io', // 分享链接
      imgUrl: 'http://d.lanrentuku.com/down/png/1412/christmas-2014-rocket/rudolph-120px.png', // 分享图标
      type: 'link', // 分享类型,music、video或link，不填默认为link
      dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
      success: function () {
        // 用户确认分享后执行的回调函数
//        window.location.href = 'http://wan.bigertech.com';

      },
      cancel: function () {
        // 用户取消分享后执行的回调函数
//        window.location.href = 'http://www.bigertech.com';
      }
    });
  });
</script>
</html>
